<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>CRM ERD – JointJS Minimal</title>

  <!-- Dependencies in correct order -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.21/lodash.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/backbone.js/1.4.1/backbone-min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jointjs/3.6.5/joint.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jointjs/3.6.5/joint.min.css" />

  <style>
    html, body {
      margin: 0;
      padding: 0;
      background: #f3f4f6;
      height: 100%;
      width: 100%;
      font-family: system-ui, sans-serif;
    }
    #paper {
      width: 100vw;
      height: 100vh;
    }
  </style>
</head>
<body>
  <div id="paper"></div>

  <script>
    const graph = new joint.dia.Graph();

    const paper = new joint.dia.Paper({
      el: document.getElementById('paper'),
      model: graph,
      width: window.innerWidth,
      height: window.innerHeight,
      gridSize: 10,
      drawGrid: true,
      background: { color: '#f3f4f6' }
    });

    // Add one visible ERD block for "contacts"
    const rect = new joint.shapes.standard.Rectangle();
    rect.position(120, 100);  // x, y
    rect.resize(220, 140);    // width, height
    rect.attr({
      body: {
        fill: '#6366f1',  // Indigo
        stroke: '#111827',
        strokeWidth: 2,
        rx: 6,
        ry: 6
      },
      label: {
        text: 'contacts\n───────────────\n• id\n• first_name\n• last_name\n• email\n• status',
        fill: '#ffffff',
        fontSize: 13,
        fontFamily: 'monospace',
        textAnchor: 'left',
        refX: 10,
        refY: 10,
        yAlignment: 'top'
      }
    });
    rect.addTo(graph);
  </script>
</body>
</html>
